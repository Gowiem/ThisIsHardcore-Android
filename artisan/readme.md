#############################################
##        ARTISAN SDK INSTALLATION         ##
#############################################

Thank you for using Artisan!  This installer will automatically integrate the Artisan SDK into your application, enabling you to connect to Artisan and begin testing and optimizing your native mobile app!


Prerequisites
==============

1) Eclipse with Android SDK (At a minimum ensure you have support for Android 2.3.3)
2) Add the AspectJ eclipse plugin:
	* In Eclipse click Help -> Install New Software
	* Click "Add" on the right to add a new repository.
		* For the name, you can name this AspectJ.
		* For the location, paste the url http://download.eclipse.org/tools/ajdt/42/update
		* Click "OK"
	* Select "AspectJ Developer Tools (Required)" and click "Next" and then "Next" again
	* Accept the licenses and click "Finish"
	* You may be prompted to restart Eclipse after this installation is complete.
3) Download the installer from Artisan Tools. You should have a file like: YourProjectName-ArtisanInstaller.zip



Setting up Artisan Instrumentation
====================================

Step 1: Move the Artisan folder (the directory that contains this readme) into your project's root directory.

Step 2: Goto artisan/build/jar and run the below jar:

	java -jar ArtisanSupport.jar

	This will update your manifest file, add the required libraries, Aspectj declarations and create an Application class if one doesn't exist already.
	Once the ArtisanSupport jar is finished running, you'll need to refresh the project in Eclipse so that the newly added files are pulled into the project. (File -> Refresh).

*** Note: you will need to repeat Step 2 (run the ArtisanSupport jar) every time you update your application so that the latest fragments and activities will be instrumented. We hope to automate this process for you in the near future. ***

Step 3: Skip this step if your project does *not* have an Application class. You can run the app and connect to Artisan Tools.

	If your code has an Application class then insert the following lines in the onCreate method:

	ArtisanService.init(this);

	// Register your in-code experiments here

	ARManager.start(<Your App ID generated by Artisan Tools>, "1.0");

	Substitute the first parameter with the app ID assigned by Artisan server

	You will need the following imports:

	import com.artisan.armanager.ARConfigOption;
	import com.artisan.armanager.ARManager;
	import com.artisan.arservices.ArtisanService;
	import com.artisan.incodeapi.ARExperimentManager;



Sample usage of Artisan library to register experiments
========================================================

Register your experiments using the in-code API after calling init on ArtisanService and before calling start on ARManager :

	ArtisanService.init(this);

	ARExperimentManager.registerExperiment("Experiment 1");
	ARExperimentManager.addVariantForExperiment("Variant A", "Experiment 1");
	ARExperimentManager.addVariantForExperiment("Variant B", "Experiment 1");
	ARExperimentManager.addVariantForExperiment("Variant C", "Experiment 1");

	ARManager.start("<Your App ID generated by Artisan Tools>", "1.0", null);

In your activities, you can code the variations like this:

        if(ARExperimentManager.isCurrentVariantForExperiment("Variant B", "Experiment 1")) {
            Button buyButton = (Button) findViewById(R.id.buyButton);
            buyButton.setText( "Buy It Now!" );
        }

To record the fact that an experiment has been viewed, call "setExperimentViewedForExperiment". The Activity.onResume method is a good place for this.

    @Override
    protected void onResume() {
        super.onResume();
        ARExperimentManager.setExperimentViewedForExperiment("Experiment 1");
    }

To indicate that a conversion has occurred:

    ARExperimentManager.setTargetReachedForExperiment("Experiment 1");

For example, in your onCreate method, you might wish to record a button click as a conversion:

buyButton.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View arg0) {
            ARExperimentManager.setTargetReachedForExperiment("Experiment 1");
            //perform "buy" business logic
        }
});

You should now be able to run the app and connect to Artisan Tools.



